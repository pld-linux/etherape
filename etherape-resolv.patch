--- etherape-0.9.0/configure.in.orig	2003-03-01 23:05:30.000000000 +0100
+++ etherape-0.9.0/configure.in	2004-07-14 21:21:22.064405638 +0200
@@ -45,14 +45,25 @@
 # required to #include <resolv.h> for the test to succeed.
 # To go around it I included the test for __res_init
 
-AC_CHECK_FUNC(res_init, , 
-  AC_CHECK_LIB(bind, res_init, , 
-   AC_CHECK_LIB(resolv, res_init, ,
-    AC_CHECK_LIB(c, __res_init, , AC_MSG_ERROR(No resolver library found)))))
-
-AC_CHECK_FUNC(res_mkquery, , 
-  AC_CHECK_LIB(bind, res_mkquery, , 
-   AC_CHECK_LIB(resolv, res_mkquery, , AC_MSG_ERROR(No resolver library found))))
+AC_CHECK_FUNC(res_init, , [
+  AC_CHECK_FUNC(__res_init, , [
+    AC_CHECK_LIB(resolv, res_init, , [
+      AC_CHECK_LIB(resolv, __res_init, , [
+	AC_CHECK_LIB(bind, res_init, , [AC_MSG_ERROR([No resolver library found])])
+      ])
+    ])
+  ])
+])
+			   
+AC_CHECK_FUNC(res_mkquery, , [
+  AC_CHECK_FUNC(__res_mkquery, , [
+    AC_CHECK_LIB(resolv, res_mkquery, , [
+      AC_CHECK_LIB(resolv, __res_mkquery, , [
+	AC_CHECK_LIB(bind, res_mkquery, , [AC_MSG_ERROR([No resolver library found])])
+      ])
+    ])
+  ])
+])
 
 # Check for the pcap library.
 AC_ARG_ENABLE(static-pcap,
